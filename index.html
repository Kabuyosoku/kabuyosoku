<!doctype html>
<html>
  <center style="position:absolute; top: 20%; left:0%;width: 100%">下のボックスに昨日の終値と今日の始値を入力してください。</center>
  <input type="text" id="input1" placeholder="昨日の終値を入力してください。" style="position:absolute; top: 30%; left:35%;height: 5%;width: 30%;">
  <input type="text" id="input2" placeholder="今日の始値を入力してください。" style="position:absolute; top: 37.5%; left:35%;height: 5%;width: 30%;">
  <button onclick="Go()" class="py-button" style="position:absolute; top: 45%; left:35%;height: 5%;width: 30%;">これが実行ボタンだよ！！</button>
  <head>
    <meta charset="utf-8"/>
  </head>
  <body>
    <section>
      <script>
        function main(x, y, z) {
          let a = 0;
          let T = x.length;
          for (let i = 0; i < T; i++) {
            let Ax = x[i];
            let Ay = y[i];
            let Az = z[i];
            let Temp = ((Ax - Az) - (Ay - Az)) / ((Ax - Az) + (Ay - Az) + 0.000001);
            if (Temp !== 0) {
              a += Temp;
            }
          }
          a = a / T;

          let b = 0;
          for (let i = 0; i < T; i++) {
            let Ax = x[i];
            let Ay = y[i];
            let Az = ((((y[i] * (1 + a)) - (x[i] * (1 - a))) / (2 * a)) * 2) - x[i];
            let Temp = ((Ax - Az) - (Ay - Az)) / ((Ax - Az) + (Ay - Az) + 0.000001);
            if (Temp !== 0) {
              b += Temp;
            }
          }
          b = b / T;
          return [a, b];
        }

        function yosoku(x, y, a, b) {
          let z1 = ((y * (1 + a)) - (x * (1 - a))) / (2 * a);
          let z2 = ((y * (1 + b)) - (x * (1 - b))) / (2 * b);
          let z3 = (z1 + z2) / 2;
          return z3;
        }

        let x = [1, 2, 3];
        let y = [2, 3, 4];
        let z = [3, 4, 5];
        let [a, b] = main(x, y, z);

        function Go() {
          let a1 = document.getElementById("input1").value;
          let b1 = document.getElementById("input2").value;
          let Input3 = [parseFloat(a1)];
          let Input4 = [parseFloat(b1)];
          alert(yosoku(Input3, Input4, a, b));
        }
      </script>
    </section>
  </body>
</html>
