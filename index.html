<!doctype html>
<html>
  <center style="position:absolute; top: 20%; left:0%;width: 100%">下のボックスに昨日の終値と今日の始値を入力してください。</center>
  <input type="text" id="input1" placeholder="昨日の終値を入力してください。" style="position:absolute; top: 30%; left:35%;height: 5%;width: 30%;">
  <input type="text" id="input2" placeholder="今日の始値を入力してください。" style="position:absolute; top: 37.5%; left:35%;height: 5%;width: 30%;">
  <button py-click="Go()" class="py-button" style="position:absolute; top: 45%; left:35%;height: 5%;width: 30%;">これが実行ボタンだよ！！</button>
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
    <script>
    </script>
  </head>
  <body>
    <section>
      <script type="py">
        def main(x,y,z):
          az = []
          a = 0
          T = len(x)
          for i in range(T):
            Ax = x[i]
            Ay = y[i]
            Az = z[i]
            Temp = ((Ax-Az)-(Ay-Az))/((Ax-Az)+(Ay-Az)+0.000001)
            if Temp == 0:
              T += -1
            else:
              a += Temp
          a = a/T

          T = len(x)
          b = 0
          Z = []
          for i in range(T):
            Ax = x[i]
            Ay = y[i]
            Az = (((((y[i]*(1+a))-(x[i]*(1-a)))/(2*a))*2)-x[i])
            Temp = ((Ax-Az)-(Ay-Az))/((Ax-Az)+(Ay-Az)+0.000001)  
            if Temp == 0:
              T += -1
            else:
              b += Temp
          b = b/T
          return a,b
        def yosoku(x,y,a,b):
          z1 = ((y*(1+a))-(x*(1-a)))/(2*a)
          z2 = ((y*(1+b))-(x*(1-b)))/(2*b)
          z3 = (z1+z2)/2
          return(z3)
        x = []
        y = []
        z = []
        a = main(x,y,z)[0]
        b = main(x,y,z)[1]
        def Go():
          a1 = Element("input1")
          b1 = Element("input2")
          global Input3
          global Input4
          Input3 = [a1.value]
          Input4 = [b1.value]
          print(yosoku(Input3,Input4,a,b))
      </script>
    </section>
  </body>
</html>
